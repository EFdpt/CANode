<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANode: Main and Backup Regulators configuration functions</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANode
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Main and Backup Regulators configuration functions<div class="ingroups"><a class="el" href="../../d9/d5b/group__STM32F4xx__StdPeriph__Driver.html">STM32F4xx_StdPeriph_Driver</a> &raquo; <a class="el" href="../../d0/dd5/group__PWR.html">PWR</a> &raquo; <a class="el" href="../../da/d5b/group__PWR__Private__Functions.html">PWR_Private_Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Main and Backup Regulators configuration functions.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Main and Backup Regulators configuration functions:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../d7/d69/group__PWR__Group4.png" border="0" alt="" usemap="#d7_2d69_2group____PWR____Group4"/>
<map name="d7_2d69_2group____PWR____Group4" id="d7_2d69_2group____PWR____Group4">
<area shape="rect" id="node2" href="../../da/d5b/group__PWR__Private__Functions.html" title="PWR_Private_Functions" alt="" coords="5,13,172,39"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83a4d6c5b048f2dab18e8fb04f5368d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d69/group__PWR__Group4.html#ga83a4d6c5b048f2dab18e8fb04f5368d7">PWR_BackupRegulatorCmd</a> (<a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a> NewState)</td></tr>
<tr class="memdesc:ga83a4d6c5b048f2dab18e8fb04f5368d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the Backup Regulator.  <a href="#ga83a4d6c5b048f2dab18e8fb04f5368d7">More...</a><br /></td></tr>
<tr class="separator:ga83a4d6c5b048f2dab18e8fb04f5368d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada193dea79762f379d4e666a98f28d89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d69/group__PWR__Group4.html#gada193dea79762f379d4e666a98f28d89">PWR_MainRegulatorModeConfig</a> (uint32_t PWR_Regulator_Voltage)</td></tr>
<tr class="memdesc:gada193dea79762f379d4e666a98f28d89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the main internal regulator output voltage.  <a href="#gada193dea79762f379d4e666a98f28d89">More...</a><br /></td></tr>
<tr class="separator:gada193dea79762f379d4e666a98f28d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga547343cc21342f0f0c66c51cbbf274e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d69/group__PWR__Group4.html#ga547343cc21342f0f0c66c51cbbf274e9">PWR_OverDriveCmd</a> (<a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a> NewState)</td></tr>
<tr class="memdesc:ga547343cc21342f0f0c66c51cbbf274e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the Over-Drive.  <a href="#ga547343cc21342f0f0c66c51cbbf274e9">More...</a><br /></td></tr>
<tr class="separator:ga547343cc21342f0f0c66c51cbbf274e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d0f38d37bbbe83743da490232c401cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d69/group__PWR__Group4.html#ga9d0f38d37bbbe83743da490232c401cb">PWR_OverDriveSWCmd</a> (<a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a> NewState)</td></tr>
<tr class="memdesc:ga9d0f38d37bbbe83743da490232c401cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the Over-Drive switching.  <a href="#ga9d0f38d37bbbe83743da490232c401cb">More...</a><br /></td></tr>
<tr class="separator:ga9d0f38d37bbbe83743da490232c401cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbd92c224ccbd9a94ec457faac2841b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d69/group__PWR__Group4.html#gafbd92c224ccbd9a94ec457faac2841b9">PWR_UnderDriveCmd</a> (<a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a> NewState)</td></tr>
<tr class="memdesc:gafbd92c224ccbd9a94ec457faac2841b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the Under-Drive mode.  <a href="#gafbd92c224ccbd9a94ec457faac2841b9">More...</a><br /></td></tr>
<tr class="separator:gafbd92c224ccbd9a94ec457faac2841b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Main and Backup Regulators configuration functions. </p>
<pre class="fragment"> ===============================================================================
          ##### Main and Backup Regulators configuration functions #####
 ===============================================================================  
    [..]
      (+) The backup domain includes 4 Kbytes of backup SRAM accessible only from 
          the CPU, and address in 32-bit, 16-bit or 8-bit mode. Its content is 
          retained even in Standby or VBAT mode when the low power backup regulator
          is enabled. It can be considered as an internal EEPROM when VBAT is 
          always present. You can use the PWR_BackupRegulatorCmd() function to 
          enable the low power backup regulator and use the PWR_GetFlagStatus
          (PWR_FLAG_BRR) to check if it is ready or not. 

      (+) When the backup domain is supplied by VDD (analog switch connected to VDD) 
          the backup SRAM is powered from VDD which replaces the VBAT power supply to 
          save battery life.

      (+) The backup SRAM is not mass erased by an tamper event. It is read 
          protected to prevent confidential data, such as cryptographic private 
          key, from being accessed. The backup SRAM can be erased only through 
          the Flash interface when a protection level change from level 1 to 
          level 0 is requested. 
      -@- Refer to the description of Read protection (RDP) in the reference manual.

      (+) The main internal regulator can be configured to have a tradeoff between 
          performance and power consumption when the device does not operate at 
          the maximum frequency. 
      (+) For STM32F405xx/407xx and STM32F415xx/417xx  Devices, the regulator can be     
          configured on the fly through PWR_MainRegulatorModeConfig() function which  
          configure VOS bit in PWR_CR register:
        (++) When this bit is set (Regulator voltage output Scale 1 mode selected) 
             the System frequency can go up to 168 MHz. 
        (++) When this bit is reset (Regulator voltage output Scale 2 mode selected) 
             the System frequency can go up to 144 MHz.
             
       (+) For STM32F42xxx/43xxx Devices, the regulator can be configured through    
           PWR_MainRegulatorModeConfig() function which configure VOS[1:0] bits in
           PWR_CR register:  
           which configure VOS[1:0] bits in PWR_CR register: 
        (++) When VOS[1:0] = 11 (Regulator voltage output Scale 1 mode selected) 
             the System frequency can go up to 168 MHz. 
        (++) When VOS[1:0] = 10 (Regulator voltage output Scale 2 mode selected) 
             the System frequency can go up to 144 MHz.  
        (++) When VOS[1:0] = 01 (Regulator voltage output Scale 3 mode selected) 
             the System frequency can go up to 120 MHz. 
                          
       (+) For STM32F42xxx/43xxx Devices, the scale can be modified only when the PLL 
           is OFF and the HSI or HSE clock source is selected as system clock. 
           The new value programmed is active only when the PLL is ON.
           When the PLL is OFF, the voltage scale 3 is automatically selected. 
        Refer to the datasheets for more details.
        
       (+) For STM32F42xxx/43xxx Devices, in Run mode: the main regulator has
           2 operating modes available:
        (++) Normal mode: The CPU and core logic operate at maximum frequency at a given 
             voltage scaling (scale 1, scale 2 or scale 3)
        (++) Over-drive mode: This mode allows the CPU and the core logic to operate at a 
            higher frequency than the normal mode for a given voltage scaling (scale 1,  
            scale 2 or scale 3). This mode is enabled through PWR_OverDriveCmd() function and
            PWR_OverDriveSWCmd() function, to enter or exit from Over-drive mode please follow 
            the sequence described in Reference manual.
             
       (+) For STM32F42xxx/43xxx Devices, in Stop mode: the main regulator or low power regulator 
           supplies a low power voltage to the 1.2V domain, thus preserving the content of registers 
           and internal SRAM. 2 operating modes are available:
         (++) Normal mode: the 1.2V domain is preserved in nominal leakage mode. This mode is only 
              available when the main regulator or the low power regulator is used in Scale 3 or 
              low voltage mode.
         (++) Under-drive mode: the 1.2V domain is preserved in reduced leakage mode. This mode is only
              available when the main regulator or the low power regulator is in low voltage mode.
              This mode is enabled through PWR_UnderDriveCmd() function.</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="ga83a4d6c5b048f2dab18e8fb04f5368d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83a4d6c5b048f2dab18e8fb04f5368d7">&#9670;&nbsp;</a></span>PWR_BackupRegulatorCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PWR_BackupRegulatorCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a>&#160;</td>
          <td class="paramname"><em>NewState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the Backup Regulator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NewState</td><td>new state of the Backup Regulator. This parameter can be: ENABLE or DISABLE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gada193dea79762f379d4e666a98f28d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada193dea79762f379d4e666a98f28d89">&#9670;&nbsp;</a></span>PWR_MainRegulatorModeConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PWR_MainRegulatorModeConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>PWR_Regulator_Voltage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the main internal regulator output voltage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PWR_Regulator_Voltage</td><td>specifies the regulator output voltage to achieve a tradeoff between performance and power consumption when the device does not operate at the maximum frequency (refer to the datasheets for more details). This parameter can be one of the following values: <ul>
<li>PWR_Regulator_Voltage_Scale1: Regulator voltage output Scale 1 mode, System frequency up to 168 MHz. </li>
<li>PWR_Regulator_Voltage_Scale2: Regulator voltage output Scale 2 mode, System frequency up to 144 MHz. </li>
<li>PWR_Regulator_Voltage_Scale3: Regulator voltage output Scale 3 mode, System frequency up to 120 MHz (only for STM32F42xxx/43xxx devices) </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga547343cc21342f0f0c66c51cbbf274e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga547343cc21342f0f0c66c51cbbf274e9">&#9670;&nbsp;</a></span>PWR_OverDriveCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PWR_OverDriveCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a>&#160;</td>
          <td class="paramname"><em>NewState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the Over-Drive. </p>
<dl class="section note"><dt>Note</dt><dd>This function can be used only for STM32F42xxx/STM3243xxx devices. This mode allows the CPU and the core logic to operate at a higher frequency than the normal mode for a given voltage scaling (scale 1, scale 2 or scale 3).</dd>
<dd>
It is recommended to enter or exit Over-drive mode when the application is not running critical tasks and when the system clock source is either HSI or HSE. During the Over-drive switch activation, no peripheral clocks should be enabled. The peripheral clocks must be enabled once the Over-drive mode is activated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NewState</td><td>new state of the Over Drive mode. This parameter can be: ENABLE or DISABLE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9d0f38d37bbbe83743da490232c401cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d0f38d37bbbe83743da490232c401cb">&#9670;&nbsp;</a></span>PWR_OverDriveSWCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PWR_OverDriveSWCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a>&#160;</td>
          <td class="paramname"><em>NewState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the Over-Drive switching. </p>
<dl class="section note"><dt>Note</dt><dd>This function can be used only for STM32F42xxx/STM3243xxx devices.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NewState</td><td>new state of the Over Drive switching mode. This parameter can be: ENABLE or DISABLE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafbd92c224ccbd9a94ec457faac2841b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbd92c224ccbd9a94ec457faac2841b9">&#9670;&nbsp;</a></span>PWR_UnderDriveCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PWR_UnderDriveCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d81/group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a>&#160;</td>
          <td class="paramname"><em>NewState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the Under-Drive mode. </p>
<dl class="section note"><dt>Note</dt><dd>This function can be used only for STM32F42xxx/STM3243xxx devices. </dd>
<dd>
This mode is enabled only with STOP low power mode. In this mode, the 1.2V domain is preserved in reduced leakage mode. This mode is only available when the main regulator or the low power regulator is in low voltage mode</dd>
<dd>
If the Under-drive mode was enabled, it is automatically disabled after exiting Stop mode. When the voltage regulator operates in Under-drive mode, an additional startup delay is induced when waking up from Stop mode.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NewState</td><td>new state of the Under Drive mode. This parameter can be: ENABLE or DISABLE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
