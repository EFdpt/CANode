<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANode: StdPeriph_Driver/src/stm32f4xx_cec.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANode
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_8c7cb67a05e24714b38d18b8506bc634.html">StdPeriph_Driver</a></li><li class="navelem"><a class="el" href="../../dir_95fdd5dce5b599ceb0ed0dde06a2d1d9.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">stm32f4xx_cec.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides firmware functions to manage the following functionalities of the Consumer Electronics Control (CEC) peripheral applicable only on STM32F446xx devices:  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d9d/stm32f4xx__cec_8h_source.html">stm32f4xx_cec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/dc2/stm32f4xx__rcc_8h_source.html">stm32f4xx_rcc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stm32f4xx_cec.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5c/stm32f4xx__cec_8c__incl.png" border="0" usemap="#StdPeriph__Driver_2src_2stm32f4xx__cec_8c" alt=""/></div>
<map name="StdPeriph__Driver_2src_2stm32f4xx__cec_8c" id="StdPeriph__Driver_2src_2stm32f4xx__cec_8c">
<area shape="rect" id="node2" href="../../d4/d9d/stm32f4xx__cec_8h.html" title="This file contains all the functions prototypes for the CEC firmware library, applicable only for STM..." alt="" coords="17,95,139,121"/>
<area shape="rect" id="node10" href="../../da/dc2/stm32f4xx__rcc_8h.html" title="This file contains all the functions prototypes for the RCC firmware library. " alt="" coords="164,95,283,121"/>
<area shape="rect" id="node3" href="../../dc/dfd/stm32f4xx_8h.html" title="CMSIS Cortex&#45;M4 Device Peripheral Access Layer Header File. This file contains all the peripheral reg..." alt="" coords="103,169,197,196"/>
<area shape="rect" id="node4" href="../../d5/d35/core__cm4_8h.html" title="CMSIS Cortex&#45;M4 Core Peripheral Access Layer Header File. " alt="" coords="105,244,195,271"/>
<area shape="rect" id="node9" href="../../d5/df2/system__stm32f4xx_8h.html" title="CMSIS Cortex&#45;M4 Device System Source File for STM32F4xx devices. " alt="" coords="219,244,363,271"/>
<area shape="rect" id="node6" href="../../da/dc3/core__cmInstr_8h.html" title="CMSIS Cortex&#45;M Core Instruction Access Header File. " alt="" coords="95,319,205,345"/>
<area shape="rect" id="node7" href="../../df/d74/core__cmFunc_8h.html" title="CMSIS Cortex&#45;M Core Function Access Header File. " alt="" coords="229,319,341,345"/>
<area shape="rect" id="node8" href="../../df/ddd/core__cmSimd_8h.html" title="CMSIS Cortex&#45;M SIMD Header File. " alt="" coords="365,319,479,345"/>
</map>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides firmware functions to manage the following functionalities of the Consumer Electronics Control (CEC) peripheral applicable only on STM32F446xx devices: </p>
<dl class="section author"><dt>Author</dt><dd>MCD Application Team </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V1.8.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>04-November-2016<ul>
<li>Initialization and Configuration</li>
<li>Data transfers functions</li>
<li>Interrupts and flags management</li>
</ul>
</dd></dl>
<pre class="fragment">==============================================================================
                          ##### CEC features #####
==============================================================================
    [..] This device provides some features:
         (#) Supports HDMI-CEC specification 1.4.
         (#) Supports two source clocks(HSI/244 or LSE).
         (#) Works in stop mode(without APB clock, but with CEC clock 32KHz).
             It can genarate an interrupt in the CEC clock domain that the CPU 
             wakes up from the low power mode.
         (#) Configurable Signal Free Time before of transmission start. The 
             number of nominal data bit periods waited before transmission can be
             ruled by Hardware or Software.
         (#) Configurable Peripheral Address (multi-addressing configuration).
         (#) Supports listen mode.The CEC Messages addressed to different destination
             can be received without interfering with CEC bus when Listen mode option is enabled.
         (#) Configurable Rx-Tolerance(Standard and Extended tolerance margin).
         (#) Error detection with configurable error bit generation.
         (#) Arbitration lost error in the case of two CEC devices starting at the same time.

                          ##### How to use this driver ##### 
==============================================================================
    [..] This driver provides functions to configure and program the CEC device,
     follow steps below:
         (#) The source clock can be configured using:
             (++) RCC_CECCLKConfig(RCC_CECCLK_HSI_Div244) for HSI(Default) 
             (++) RCC_CECCLKConfig(RCC_CECCLK_LSE) for LSE.
         (#) Enable CEC peripheral clock using RCC_APBPeriphClockCmd(RCC_APBPeriph_CEC, ENABLE).
         (#) Peripherals alternate function.
             (++) Connect the pin to the desired peripherals' Alternate Function (AF) using 
             GPIO_PinAFConfig() function.
             (++) Configure the desired pin in alternate function by:
             GPIO_InitStruct-&gt;GPIO_Mode = GPIO_Mode_AF.
             (++) Select the type open-drain and output speed via GPIO_OType 
             and GPIO_Speed members.
             (++) Call GPIO_Init() function.
         (#) Configure the Signal Free Time, Rx Tolerance, Stop reception generation 
             and Bit error generation using the CEC_Init() function.
             The function CEC_Init() must be called when the CEC peripheral is disabled.
         (#) Configure the CEC own address by calling the fuction CEC_OwnAddressConfig().
         (#) Optionally, you can configure the Listen mode using the function CEC_ListenModeCmd().
         (#) Enable the NVIC and the corresponding interrupt using the function 
             CEC_ITConfig() if you need to use interrupt mode.
             CEC_ITConfig() must be called before enabling the CEC peripheral.
         (#) Enable the CEC using the CEC_Cmd() function.
         (#) Charge the first data byte in the TXDR register using CEC_SendDataByte().
         (#) Enable the transmission of the Byte of a CEC message using CEC_StartOfMessage() 
         (#) Transmit single data through the CEC peripheral using CEC_SendDataByte() 
             and Receive the last transmitted byte using CEC_ReceiveDataByte().
         (#) Enable the CEC_EndOfMessage() in order to indicate the last byte of the message.
    [..]
         (@) If the listen mode is enabled, Stop reception generation and Bit error generation 
             must be in reset state.
         (@) If the CEC message consists of only 1 byte, the function CEC_EndOfMessage()
             must be called before CEC_StartOfMessage().</pre><dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; COPYRIGHT 2016 STMicroelectronics</center></h2>
<p>Licensed under MCD-ST Liberty SW License Agreement V2, (the "License"); You may not use this file except in compliance with the License. You may obtain a copy of the License at: </p><pre class="fragment">   http://www.st.com/software_license_agreement_liberty_v2
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
